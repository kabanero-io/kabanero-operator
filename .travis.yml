language: go
go:
  - 1.12

services:
  - docker

# Install operator-sdk
env:
  - RELEASE_VERSION=v0.8.1

before_install:
- curl -OJL https://github.com/operator-framework/operator-sdk/releases/download/${RELEASE_VERSION}/operator-sdk-${RELEASE_VERSION}-x86_64-linux-gnu
- chmod +x operator-sdk-${RELEASE_VERSION}-x86_64-linux-gnu && sudo cp operator-sdk-${RELEASE_VERSION}-x86_64-linux-gnu /usr/local/bin/operator-sdk && rm operator-sdk-${RELEASE_VERSION}-x86_64-linux-gnu
- operator-sdk version
- go get -u github.com/golang/dep/cmd/dep
# test only
- cd ../../ && mkdir kabanero-io && cd kabanero-io && mv ../stevenschader/kabanero-operator . && cd kabanero-operator
- pwd
- dep ensure

script:
- make

cache:
  directories:
    - vendor 